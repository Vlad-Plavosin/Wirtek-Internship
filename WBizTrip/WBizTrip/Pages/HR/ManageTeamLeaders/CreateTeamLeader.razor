@page "/teamleader/create"
@using WBizTrip.Client.Services.Abstractions
@inject ITeamLeaderService TeamLeaderService
@inject NavigationManager NavigationManager
@inject HttpClient httpClient
@using WBizTrip.Domain.Enums
@using WBizTrip.Domain.Utils
@attribute [AuthorizeEnum(UserRole.HR)]

<CardTemplate>
	<cardHead>
		<h1 class="mt-3 boldFont mx-auto">Add a new Team Leader</h1>
	</cardHead>
	<cardBody>
		<div class="row">
			<div class="col-6">
				<img src="images/people1.png" class="img-fluid" alt="" />
			</div>
			<div class="col-6">
				<EditForm class="mx-auto d-grid justify-content-center flex-column gap-1" Model="@newTeamLeaderDto" OnValidSubmit="@HandleSubmit">
					<DataAnnotationsValidator />
					<ValidationSummary />
					<div class="mb-2 inputs">
						<label class="form-label" for="name">Name:</label>
						<InputText id="name" @bind-Value="newTeamLeaderDto.Name" class="form-control" />
					</div>
					<div class="mb-2 inputs">
						<label class="form-label" for="email">Email address:</label>
						<InputText type="email" id="email" @bind-Value="newTeamLeaderDto.Email" class="form-control" />
						<ValidationMessage For="@(() => newTeamLeaderDto.Email)" />
					</div>
					<div class="mb-2 inputs">
						<label class="form-label" for="password">Password:</label>
						<InputText type="password" id="password" @bind-Value="newTeamLeaderDto.Password" class="form-control" />
						<ValidationMessage For="@(() => newTeamLeaderDto.Password)" />
					</div>
					<div class="mb-2 inputs">
						<label class="form-label" for="team">Team:</label>
						<InputText id="team" @bind-Value="newTeamLeaderDto.Team" class="form-control" />
					</div>
					<div class="d-flex justify-content-between mt-3 text-center">
						<button class="btn btn-lg costume-button" @onclick=" (async ()=> await HandleSubmit())">Create</button>
						<a href="/manage-teamleaders" class="cancel-button">Cancel</a>
					</div>
				</EditForm>
			</div>
		</div>
	</cardBody>
</CardTemplate>

